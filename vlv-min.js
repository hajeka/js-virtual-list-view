function jsvlv(e,n,t,i){function o(e,n){i.onSelectRow(e,n)}function d(e,n){n.addEventListener("click",function(){o(e,n)},!1)}function r(){var e,t=g;if(p.style.top=t+"px",0>t)for(e=_viewportEndIndex+1;n-t-x>0;){if(!(E>e)){g=n-x,p.style.top=g+"px";break}h(e),e++,s.dbgdmp()}else g>0&&(p.style.top="0px",g=0)}function l(e){e.preventDefault(),g+=e.wheelDeltaY,requestAnimationFrame(r)}function h(e){var n=t.contentForRowAtIndex(e),i=$(n).outerHeight();x+=i,m.push({index:e,element:n,height:i}),p.appendChild(n),d(e,n),_viewportEndIndex=e}function c(){for(var e=0;n>x&&E>e;)h(e),e++}var s=this,v=null,a="vlv"+Math.round(1e6*Math.random()),u='<div id="<%= id %>" class="vlv-container" style="width:<%=width %>px;height:<%=height %>px;"></div>',f=$(_.template(u,{id:a,width:e,height:n})),v=f[0],p=$('<div class="vlv-content"></div>')[0],m=[],w=0,x=0,g=0,E=t?t.numberOfRows():0;return s.getElement=function(){return v},s.show=function(e){v.appendChild(p),v.addEventListener("mousewheel",l,!0),e.appendChild(v),c()},s.hide=function(){v.removeEventListener("mousewheel",onScroll,!0),container.removeChild(v)},s.reload=function(){for(;p.firstChild;)p.removeChild(p.firstChild);m=[],w=0,_viewportEndIndex=-1,x=0,g=0,E=t?t.numberOfRows():0,c()},s.dbgdmp=function(){console.log({content:m,scrollDistance:g,contentHeight:x,firstIndex:w,lastIndex:_viewportEndIndex})},s}