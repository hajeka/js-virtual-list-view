function jsvlv(e,n,t,i){function o(e,n){i.onSelectRow(e,n)}function d(e,n){n.addEventListener("click",function(){o(e,n)},!1)}function l(){var e,t=C;if(m.style.top=t+"px",0>t)for(e=_viewportEndIndex+1;n-t-E>0;){if(!(b>e)){C=n-E,m.style.top=C+"px";break}h(e),e++}else C>0&&(m.style.top="0px",C=0)}function r(e){e.preventDefault(),e.stopPropagation(),C+=e.wheelDeltaY,requestAnimationFrame(l)}function h(e){var n,i=t.contentForRowAtIndex(e);m.appendChild(i),n=$(i).outerHeight(!1),E+=n,x.push({index:e,element:i,height:n}),d(e,i),_viewportEndIndex=e}function s(){for(var e=0;n>E&&b>e;)h(e),e++}function c(){for(;m.firstChild;)m.removeChild(m.firstChild);x=[],g=0,_viewportEndIndex=-1,E=0,C=0,b=t?t.numberOfRows():0}var u=this,v=null,a="vlv"+Math.round(1e6*Math.random()),f='<div id="<%= id %>" class="vlv-container" style="width:<%=width %>px;height:<%=height %>px;"></div>',p=$(_.template(f,{id:a,width:e,height:n})),v=p[0],w=null,m=$('<div class="vlv-content"></div>')[0],x=[],g=0,E=0,C=0,I=!1,b=t?t.numberOfRows():0;return u.getElement=function(){return v},u.show=function(e){v.appendChild(m),v.addEventListener("mousewheel",r,!0),e.appendChild(v),I=!0,w=e,c(),s()},u.hide=function(){v.removeEventListener("mousewheel",r,!0),I&&(w&&w.removeChild(v),I=!1)},u.reload=function(){c(),s()},u.dbgdmp=function(){console.log({content:x,scrollDistance:C,contentHeight:E,firstIndex:g,lastIndex:_viewportEndIndex})},u}