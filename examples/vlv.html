
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>virtual-list-view-js - jsFiddle demo</title>
        
<style type='text/css'>
    BODY { padding: 40px; }

    #listContainer {
        width: 200px;
        height: 500px;   
        border: 1px dotted #fcc;
    }
</style>
<link rel="stylesheet" type="text/css" href="../vlv-min.css">

<script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js'></script>
<script type='text/javascript' src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script type='text/javascript' src="../vlv-min.js"></script>
<script type='text/javascript'>//<![CDATA[ 
var onLoad = function() {
    // test data
    var testData = [],
        selected = [],
        bgcolors = ['#fcc','#ffc','#cff','#cfc'],
        size = 200;

    for(var i=0; i<size; i++) {
        testData.push({ id: i, label: "list item " + i, selectable: true });
    }

    // test data source
    var listDataSource = {
        /* contentSource methods */
        contentForRowAtIndex     :  function (index) {
                                        var randomHeight = 20 + Math.round(50 * Math.random()),
                                            randomBackground = bgcolors[Math.round(4 * Math.random())],
                                            e = $('<div class="vlv-content"' +
                                                  'style="height:' + randomHeight + 
                                                  'px;font-family:Helvetica;padding:5px;background-color:' +
                                                  randomBackground + ';"></div>')[0];
                                        e.textContent = testData[index].label;
                                        return e;
                                    },
        
        numberOfRows             :  function() { return testData.length; },

        /* delegate methods */
        onSelectRow              : function(index, element) { 
                                        selected[index] = true;
                                        element.innerHTML += " (clicked)";
                                        element.style.backgroundColor = "#f66";
                                   }
    }

    // bootstrap
    var listContainer = $('#listContainer')[0],
        vlv = new jsvlv($(listContainer).width(), 
                        $(listContainer).height(), 
                        listDataSource, 
                        listDataSource /* is also the delegate */);

    vlv.show(listContainer);
    vlv.dbgdmp();

    // console.log($('#listContainer')[0].innerHTML);

    window.vlv = vlv;
}

$(window).load(onLoad);
//]]>  
</script>


</head>
<body>
  <div id="listContainer"></div>
</body>


</html>

